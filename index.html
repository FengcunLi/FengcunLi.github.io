<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="Robert Lexis">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="This is Robert Lexis."/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="This is Robert Lexis."/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>This is Robert Lexis.</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">This is Robert Lexis.</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/07/12/Unnamed-namespace/">
                Unnamed namespace
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-07-12</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="匿名命名空间的-external-linkage-与-internal-linkage"><a href="#匿名命名空间的-external-linkage-与-internal-linkage" class="headerlink" title="匿名命名空间的 external linkage 与 internal linkage"></a>匿名命名空间的 external linkage 与 internal linkage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">namespace &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在 <code>C++ 11</code> 之前，匿名命名空间具有 external linkage，在 <code>C++ 11</code> 之后，匿名命名空间具有 internal linkage. This means you can have free functions <code>help</code> that can exist in multiple translation units, and they won’t clash at link time. The effect is almost identical to using the static keyword used in <code>C</code> which you can put in in the declaration of identifiers. <strong>Unnamed namespaces are a superior alternative, being able to even make a type translation unit local.</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">namespace &#123; int a1; &#125;</div><div class="line">static int a2;</div></pre></td></tr></table></figure>
<p>Both a’s are <strong>translation unit local</strong> and won’t clash at link time. But the difference is that the a1 in the anonymous namespace gets a unique name.</p>
<p>Having something in an anonymous namespace means it’s local to this translation unit (.cpp file and all its includes) this means that if another symbol with the same name is defined elsewhere there will not be a violation of the <strong>One Definition Rule (ODR)</strong>.</p>
<p>This is the same as the C way of having a static global variable or static function but it can be used for class definitions as well (and should be used rather than static in C++).</p>
<p>All anonymous namespaces in the same file are treated as the same namespace and all anonymous namespaces in different files are distinct. An anonymous namespace is the equivalent of:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">namespace __unique_compiler_generated_identifer0x42 &#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line">using namespace __unique_compiler_generated_identifer0x42;</div></pre></td></tr></table></figure>
<h3 id="const’s-static-linkage"><a href="#const’s-static-linkage" class="headerlink" title="const’s static linkage"></a>const’s static linkage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">namespace &#123;</div><div class="line">    const int SIZE_OF_ARRAY_X;</div><div class="line">    const int SIZE_OF_ARRAY_Y;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>These don’t need to be in an anonymous namespace, since <code>const</code> object already have static linkage and therefore can’t possibly conflict with identifiers of the same name in another translation unit. “These don’t need to be in an anonymous namespace” Technically, sure - but still, it doesn’t hurt to put them in one, as a visual reminder of their semantics and to make it (even more) trivial to remove constness later if desired. </p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol>
<li>在 <code>C/C++03</code> 中，为了获得 internal linkage，会加上 static，通过 static linkage 使得 translation unit local，从而达成 internal linkage.</li>
<li>在 <code>C++11</code> 中，可以通过匿名命名空间直接使得 translation unit local，从而达成 internal1 linkage.</li>
<li><code>const</code> 具有 static linkage. </li>
</ol>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/05/08/Static-variable-in-inlined-function/">
                Static variable in inlined function
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-05-08</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="static-function-static-local-variable"><a href="#static-function-static-local-variable" class="headerlink" title="static function + static local variable"></a>static function + static local variable</h3><p>Declaring a function static will make it “hidden” in its compilation unit.<br></p>
        </div>
        <a href="/2019/05/08/Static-variable-in-inlined-function/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/04/23/Iterator-invalidation-rules/">
                Iterator invalidation rules
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-04-23</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p><a href="https://stackoverflow.com/questions/6438086/iterator-invalidation-rules" target="_blank" rel="external">Iterator invalidation rules</a><br></p>
        </div>
        <a href="/2019/04/23/Iterator-invalidation-rules/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/18/Emplace-back/">
                Emplace back
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-18</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="Why-emplace-back-is-faster-than-push-back"><a href="#Why-emplace-back-is-faster-than-push-back" class="headerlink" title="Why emplace_back is faster than push_back?"></a>Why emplace_back is faster than push_back?</h3><ul>
<li><p>since C++ 11 until C++17</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span>... <span class="title">Args</span>&gt;</span></div><div class="line"><span class="class"><span class="title">void</span> <span class="title">emplace_back</span>(<span class="title">Args</span>&amp;&amp;... <span class="title">args</span>);</span></div></pre></td></tr></table></figure>
</li>
<li><p>since C++17</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span>&lt;<span class="class"><span class="keyword">class</span>... <span class="title">Args</span>&gt;</span></div><div class="line"><span class="class"><span class="title">reference</span> <span class="title">emplace_back</span>(<span class="title">Args</span>&amp;&amp;... <span class="title">args</span>);</span></div></pre></td></tr></table></figure>
</li>
</ul>
        </div>
        <a href="/2019/03/18/Emplace-back/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/14/Perfect-forward/">
                Perfect forward
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-14</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="std-move"><a href="#std-move" class="headerlink" title="std::move"></a>std::move</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="keyword">decltype</span>(<span class="keyword">auto</span>) move(T&amp;&amp; param)</div><div class="line">&#123;</div><div class="line">   <span class="keyword">using</span> return_type = <span class="built_in">std</span>::remove_reference&lt;T&gt;::type&amp;&amp;;</div><div class="line">   <span class="keyword">return</span> <span class="keyword">static_cast</span>&lt;return_type&gt;(param);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
        </div>
        <a href="/2019/03/14/Perfect-forward/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/14/Move-semantic-perfect-forward/">
                Move semantic & perfect forward
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-14</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="移动语义（move-semantic）和完美转发（perfect-forward）"><a href="#移动语义（move-semantic）和完美转发（perfect-forward）" class="headerlink" title="移动语义（move semantic）和完美转发（perfect forward）"></a>移动语义（move semantic）和完美转发（perfect forward）</h2><p>新标准重新定义了 <code>lvalue</code>和<code>rvalue</code>，并允许函数依照这两种不同的类型进行重载。通过对于右值的重新定义，语言实现了移动语义和完美转发，通过这种方法，C++在保留原有的语法、不改动已存在的代码的基础上提升了代码的性能。<br></p>
        </div>
        <a href="/2019/03/14/Move-semantic-perfect-forward/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/14/RAII-smart-pointer/">
                RAII & smart pointer
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-14</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="RAII"><a href="#RAII" class="headerlink" title="RAII"></a>RAII</h3><p>RAII 全称为 <em>Resource Acquisition Is Initialization</em>，1984-1989 年期间，比雅尼·斯特劳斯特鲁普和安德鲁·柯尼希在设计 C++ 异常时，为解决<strong>资源管理</strong>时的<strong>异常安全性</strong>而使用了 <strong>RAII</strong>。</p>
<p>RAII要求，资源的有效期与持有资源的对象的生命期严格绑定，即由对象的构造函数完成资源的获取，由析构函数完成资源的释放，在这种要求下，只要对象能正确地析构，就不会出现资源泄露问题。<br></p>
        </div>
        <a href="/2019/03/14/RAII-smart-pointer/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/13/Leetcode/">
                Leetcode
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-13</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="递归、回溯、分治"><a href="#递归、回溯、分治" class="headerlink" title="递归、回溯、分治"></a>递归、回溯、分治</h3>
        </div>
        <a href="/2019/03/13/Leetcode/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2019/03/13/Move-semantic/">
                Move semantic
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2019-03-13</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="右值引用"><a href="#右值引用" class="headerlink" title="右值引用"></a>右值引用</h3><p>左值和右值是表达式的属性，一些表达式生成或者需要左值，另外一些表达式生成或者需要右值，一般而言，一个左值表达式表示一个对象的身份，一个右值表达式则表示一个对象的值。</p>
<ul>
<li>返回左值引用的函数，赋值、下标、解引用、前置递增、前置递减，这些返回左值</li>
<li>返回非引用的函数，算术、关系、位、后置递增、后置递减，这些返回右值</li>
</ul>
<p>为了支持移动操作，C++11 引入了一种新的引用类型——右值引用（rvalue reference）。所谓右值引用是指<strong>只能</strong>绑定到右值的引用，一个右值引用类似于左值引用，也不过是某个对象的另外一个名字而已，通过 <code>&amp;&amp;</code> 来标识一个右值引用。我们只能将左值引用绑定到左值上（const 左值引用可以绑定到右值上），只能将右值引用绑定到右值上。<br></p>
        </div>
        <a href="/2019/03/13/Move-semantic/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/11/21/C-Concurrency-In-Action/">
                C++ Concurrency In Action
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-11-21</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="基本的线程管理"><a href="#基本的线程管理" class="headerlink" title="基本的线程管理"></a>基本的线程管理</h2><h4 id="启动线程"><a href="#启动线程" class="headerlink" title="启动线程"></a>启动线程</h4><ul>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">void do_some_work();</div><div class="line">std::thread my_thread(do_some_work);</div></pre></td></tr></table></figure>
</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">class background_task &#123;</div><div class="line">    public:</div><div class="line">        void operator() ()const &#123;</div><div class="line">            do_something();</div><div class="line">            do_something_else();</div><div class="line">        &#125;</div><div class="line">&#125;;</div><div class="line">background_task f;</div><div class="line">std::thread my_thread(f);</div></pre></td></tr></table></figure>
</li>
</ul>
        </div>
        <a href="/2018/11/21/C-Concurrency-In-Action/" class="read-more">Read More</a>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="disabled" href="/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="" href="/page/2/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This is Robert Lexis (FengCun Li). To see the world, things dangerous to come to, to see behind walls, to draw closer, to find each other and to feel. That is the purpose of LIFE.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2019/07/12/Unnamed-namespace/">Unnamed namespace</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/05/08/Static-variable-in-inlined-function/">Static variable in inline</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/04/23/Iterator-invalidation-rules/">Iterator invalidation rul</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2019/03/18/Emplace-back/">Emplace back</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/RobertLexis">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:robert_lexis@163.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Robert Lexis Loves Wenny
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>