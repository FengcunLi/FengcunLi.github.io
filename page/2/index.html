<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="Robert Lexis">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="This is Robert Lexis."/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="This is Robert Lexis."/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>page - This is Robert Lexis.</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">This is Robert Lexis.</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/08/01/Nvidia-Jetson-TX2-开箱及刷机/">
                Nvidia Jetson TX2 开箱及刷机
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-08-01</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>钱学森实验室购买了 Nvidia <a href="https://developer.nvidia.com/embedded-computing" target="_blank" rel="external">Jetson</a> TX2 支持嵌入式 AI 开发。</p>
<blockquote>
<p>Jetson, the Platform for AI at the Edge<br>NVIDIA Jetson with GPU-accelerated parallel processing is the world’s leading embedded AI computing platform. The Jetson portfolio of devices, featuring the new NVIDIA Jetson TX2, delivers more performance and features for Artificial Intelligence at the edge. Devices at the edge, from drones to intelligent cameras, need on-board AI to process complex data without relying on network connectivity. AI at the Edge is the future of industry, transforming processes in manufacturing, industrial inspection, agriculture, general robotics, security, and AI cities.</p>
</blockquote>
<p><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/jetson/Jetson.jpeg" alt="Jetson"><br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/jetson/Jetson_1.jpeg" alt="Jetson"><br></p>
        </div>
        <a href="/2018/08/01/Nvidia-Jetson-TX2-开箱及刷机/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/26/Stacked-Hourglass-Networks-卫星部件检测/">
                Stacked Hourglass Networks 卫星部件检测
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-26</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="STACKED-HOURGLASS-NETWORKS"><a href="#STACKED-HOURGLASS-NETWORKS" class="headerlink" title="STACKED HOURGLASS NETWORKS"></a>STACKED HOURGLASS NETWORKS</h3><p><a href="http://www-personal.umich.edu/~alnewell/pose/" target="_blank" rel="external">STACKED HOURGLASS NETWORKS</a> 是由密歇根大学的研究团队设计的一个专门用来进行人体姿态估计的网络结构。在卫星的部件检测项目中，我们对其进行了修改和调整，利用同样的网络结构完成了太阳帆板的检测定位（类似图像分割任务）、发动机和对接环的定位（关键点检测任务）、发动机和对接环的检测定位（类似图像分割任务）。<br>下面对 STACKED HOURGLASS NETWORKS 进行介绍及对自主实现的 Keras 关键代码进行分析。<br></p>
        </div>
        <a href="/2018/07/26/Stacked-Hourglass-Networks-卫星部件检测/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/03/Run-Keras-models-in-C-Tensorflow/">
                Run Keras models in C++ Tensorflow
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-03</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/03/策略梯度：倒立摆/">
                策略梯度：倒立摆
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-03</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/03/Advanced-machine-learning-with-scikit-learn/">
                Advanced machine learning with scikit-learn
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-03</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/03/Machine-learning-with-scikit-learn/">
                Machine learning with scikit-learn
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-03</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/02/Softmax-cross-entropy-推导及求导/">
                Softmax cross entropy 推导及求导
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-02</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>主要分析了 binary_crossentropy 和 categorical_crossentropy 的定义， softmax 和 categorical_crossentropy 的求导。</p>
<h3 id="binary-crossentropy"><a href="#binary-crossentropy" class="headerlink" title="binary_crossentropy"></a>binary_crossentropy</h3><p>适用于每个类别相互独立但互不排斥的情况，常见于单类别任务\( (batch size, 1) \)和多类别中的多标签任务\( (batch size, num classes) \)。</p>
<p>\[<br>\begin{split}<br>    p_{i, j} &amp; = sigmoid(logits_{i, j}) \\\\<br>    &amp; = \frac{1}{1 + e^{-logits_{i, j} } } \\\\<br>    loss_{i, j} &amp; = -[y_{i, j} \times ln p_{i, j} + (1 - y_{i, j}) \times (1 - ln p_{i, j})]<br>\end{split}<br>\]<br></p>
        </div>
        <a href="/2018/07/02/Softmax-cross-entropy-推导及求导/" class="read-more">Read More</a>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/07/01/模型评估-量化预测质量/">
                模型评估 量化预测质量
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-07-01</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>本博文主要是在阅读 scikit-learn 官方文档<a href="http://scikit-learn.org/stable/modules/model_evaluation.html" target="_blank" rel="external">3.3. Model evaluation: quantifying the quality of predictions</a> 之后的总结。<br>首先看一下根据 label 特点的不同做出的分类任务类型的划分：<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/1.PNG" alt="不同的分类任务"><br>scikit-learn 提供了三种不同的 API 来评估模型的预测质量。</p>
<ul>
<li>Estimator score method（学习器的score 方法）</li>
<li>Scoring parameter （评分策略参数） 基于交叉验证的模型评估工具（比如 <code>model_selection.cross_val_score</code> and <code>model_selection.GridSearchCV</code>) 依赖于一个内部的评分策略 ）</li>
<li>Metric functions（评价函数），metrics 模块提供了很多这样的函数。</li>
</ul>
<p>另外一点值得指出的是，可以使用 <code>Dummy estimators</code> 获得评价指标的基准值。</p>
<h2 id="使用-scoring-参数来定义模型评估的规则"><a href="#使用-scoring-参数来定义模型评估的规则" class="headerlink" title="使用 scoring 参数来定义模型评估的规则"></a>使用 scoring 参数来定义模型评估的规则</h2><p>Model selection and evaluation using tools, such as <code>model_selection.GridSearchCV</code> and <code>model_selection.cross_val_score</code>, take a scoring parameter that controls what metric they apply to the estimators evaluated.<br>值得注意的是，所有的评分指标都遵循“大值优于小值”的约定。因此对于一些基于“距离”的度量，像 <code>metrics.mean_squared_error</code>，在此使用的是其相反数 <code>neg_mean_squared_error</code>。<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/scoring_parameters.PNG" alt="scoring_parameters"></p>
<h2 id="分类问题的评估指标"><a href="#分类问题的评估指标" class="headerlink" title="分类问题的评估指标"></a>分类问题的评估指标</h2><p><code>sklearn.metrics</code> 模块提供了很多的损失（loss），评分（score）和辅助函数（utility）来度量分类器的性能。<br>一些指标函数需要分类器能够给出概率估计、confidence values, 和 binary decisions values。并且大部分的实现也允许通过提供 <code>sample_weights</code> 参数来计算指标的一个加权值。<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/classification_metrics.PNG" alt="classification_metrics"></p>
<p>下面关注一下一些常见的指标。</p>
<h4 id="Accuracy-score"><a href="#Accuracy-score" class="headerlink" title="Accuracy score"></a>Accuracy score</h4><p>\(\hat{y_i}\) 是第 i 个样本的预测值，\(y_i\) 是第 i 个样本的真实值。<br>$$\texttt{accuracy}(y, \hat{y}) = \frac{1}{n_\text{samples}} \sum_{i=0}^{n_\text{samples}-1} 1(\hat{y}_i = y_i)$$<br>其中 \(1(x)\) 是示性函数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">import numpy as np</div><div class="line">from sklearn.metrics import accuracy_score</div><div class="line">y_pred = [0, 2, 1, 3]</div><div class="line">y_true = [0, 1, 2, 3]</div><div class="line">accuracy_score(y_true, y_pred)</div><div class="line">0.5</div><div class="line">accuracy_score(y_true, y_pred, normalize=False)</div><div class="line">2</div></pre></td></tr></table></figure></p>
<p>在多标签（multilabel）任务下，使用二进制标签矩阵（binary label indicators），示性函数需要\(\hat{y}_i\) 和 \(y_i\) 完全匹配才取 1 值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">accuracy_score(np.array([[0, 1], [1, 1]]), np.ones((2, 2)))</div><div class="line">0.5</div></pre></td></tr></table></figure></p>
<h4 id="Classification-report"><a href="#Classification-report" class="headerlink" title="Classification report"></a>Classification report</h4><p>这个函数会构建一个展示常见分类度量指标的文本报告（text report）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">from sklearn.metrics import classification_report</div><div class="line">y_true = [0, 1, 2, 2, 0]</div><div class="line">y_pred = [0, 0, 2, 1, 0]</div><div class="line">target_names = [&apos;class 0&apos;, &apos;class 1&apos;, &apos;class 2&apos;]</div><div class="line">print(classification_report(y_true, y_pred, target_names=target_names))</div><div class="line">             precision    recall  f1-score   support</div><div class="line"></div><div class="line">    class 0       0.67      1.00      0.80         2</div><div class="line">    class 1       0.00      0.00      0.00         1</div><div class="line">    class 2       1.00      0.50      0.67         2</div><div class="line"></div><div class="line">avg / total       0.67      0.60      0.59         5</div></pre></td></tr></table></figure></p>
<h4 id="Precision-recall-and-F-measures"><a href="#Precision-recall-and-F-measures" class="headerlink" title="Precision, recall and F-measures"></a>Precision, recall and F-measures</h4><p>对二分类问题而言，<br>$$<br>\text{precision} = \frac{tp}{tp + fp},<br>$$<br>$$<br>\text{recall} = \frac{tp}{tp + fn},<br>$$<br>$$<br>F_\beta = (1 + \beta^2) \frac{\text{precision} \times \text{recall}}{\beta^2 \text{precision} + \text{recall}}.<br>$$<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/recall_precision_f_beta.PNG" alt="recall_precision_f_beta"><br>对多类别和多标签分类而言，precision, recall, and F-measures 可以独立地应用于各个标签，然后可以通过 <code>average</code> 参数指定的方式将各个标签上的结果进行综合。 <code>average</code> 参数可以应用于 <code>average_precision_score</code> (multilabel only), <code>f1_score</code>, <code>fbeta_score</code>, <code>precision_recall_fscore_support</code>, <code>precision_score</code> and <code>recall_score</code> 这些函数。<br><em>Note that for “micro”-averaging in a multiclass setting with all labels included will produce equal precision, recall and F, while “weighted” averaging may produce an F-score that is not between precision and recall.</em></p>
<ul>
<li>\(y\) the set of predicted (sample, label) pairs</li>
<li>\(\hat{y}\) the set of true (sample, label) pairs</li>
<li>\(L\) the set of labels</li>
<li>\(S\) the set of samples</li>
<li>\(y_s\) the subset of \(y\) with sample \(s\), i.e. \( y_s := \lbrace (s’, l) \in y | s = s’ \rbrace \)</li>
<li>\(y_l\) the subset of \(y\) with label \(l\)</li>
<li>similarly, \(\hat{y_s}\) and \(\hat{y_l}\) are subsets of \(\hat{y}\)</li>
<li>\(P(A, B) := \frac{\left| A \cap B \right|}{\left|A\right|}\)</li>
<li>\(R(A, B) := \frac{\left| A \cap B \right|}{\left|B\right|}\) (Conventions vary on handling \(B = \emptyset\); this implementation uses \(R(A, B):=0\), and similar for \(P\).)</li>
<li>\(F_\beta(A, B) := \left(1 + \beta^2\right) \frac{P(A, B) \times R(A, B)}{\beta^2 P(A, B) + R(A, B)}\)<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/2.PNG" alt="多标签任务的真实标签"><br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/3.PNG" alt="多标签任务的预测标签"><br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/4.PNG" alt="多标签任务指标的计算图示"><br>Then the metrics are defined as:<br><img src="http://oytnj8g2y.bkt.clouddn.com/image/jpg/metrics/recall_precision_f_beta_formulations.PNG" alt="recall_precision_f_beta_formulations"></li>
</ul>
<h4 id="precision-recall-curve"><a href="#precision-recall-curve" class="headerlink" title="precision_recall_curve"></a>precision_recall_curve</h4><p>The <code>precision_recall_curve</code> computes a precision-recall curve from the ground truth label and a score given by the classifier by varying a decision threshold.<br><strong>仅仅能够应用在二分类问题中。</strong></p>
<h4 id="average-precision-score"><a href="#average-precision-score" class="headerlink" title="average_precision_score"></a>average_precision_score</h4><p>The <code>average_precision_score</code> function computes the average precision (AP) from prediction scores. The value is between 0 and 1 and higher is better. AP is defined as<br>$$AP = \sum_n (R_n - R_{n-1}) P_n$$<br>where \(P_n\) and \(R_n\) are the precision and recall at the nth threshold. With random predictions, the AP is the fraction of positive samples.<br><strong>仅能够应用在二分类问题和多标签问题中。</strong></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/06/08/笔记-for-PyData-2015-Introduction-to-scikit-image/">
                笔记 for PyData 2015 - Introduction to scikit-image
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-06-08</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>这篇博文是 Emmanuelle Gouillart (scikit-image 开发者) 在 PyData 2015 上演讲 Introduction to scikit-image 的笔记。</p>
<h3 id="scikit-image"><a href="#scikit-image" class="headerlink" title="scikit-image"></a>scikit-image</h3><p>scikit-image is a general-purpose image processing module for the Python programming language. It is designed to interact efficiently with other popular scientific Python libraries, such as NumPy and SciPy. In particular, scikit-image leverages the powerful data array container of NumPy, that can store images of various dimensions (2-D, 2D RGB, 3D, 4D…).</p>
<h3 id="Foundation"><a href="#Foundation" class="headerlink" title="Foundation"></a>Foundation</h3><p>NumPy-native: images as NumPy arrays</p>
<h3 id="Filtering：-transforming-image-data"><a href="#Filtering：-transforming-image-data" class="headerlink" title="Filtering： transforming image data"></a>Filtering： transforming image data</h3><p>modules:</p>
<ul>
<li>skimage.filter</li>
<li>skimage.exposure</li>
<li>skimage.restoration</li>
</ul>
<p>word cloud:</p>
<ul>
<li>median</li>
<li>gaussian</li>
<li>canny</li>
<li>sobel</li>
<li>wiener</li>
<li>equalize</li>
<li>denoising</li>
<li>enhance_contrast</li>
<li>total_variation</li>
</ul>
<h3 id="Extracting-features"><a href="#Extracting-features" class="headerlink" title="Extracting features"></a>Extracting features</h3><p>Feature detection: extracting features from images to feed into classifiers or estimators.<br>modules:</p>
<ul>
<li>skimage.feature</li>
<li>skimage.filter</li>
</ul>
<p>word cloud:</p>
<ul>
<li>corners</li>
<li>daisy</li>
<li>local_maxima</li>
<li>gabor</li>
<li>harris</li>
<li>hog</li>
<li>hough</li>
<li>cooccurance</li>
<li>canny</li>
</ul>
<h3 id="Geometrical-transformations"><a href="#Geometrical-transformations" class="headerlink" title="Geometrical transformations"></a>Geometrical transformations</h3><p>modules:</p>
<ul>
<li>skimage.transform</li>
</ul>
<p>word cloud</p>
<ul>
<li>scale</li>
<li>zoom</li>
<li>rotate</li>
<li>swirl</li>
<li>wrap</li>
</ul>
<h3 id="Segmentation-labelling-regions"><a href="#Segmentation-labelling-regions" class="headerlink" title="Segmentation: labelling regions"></a>Segmentation: labelling regions</h3><p>label different pixels to separate objects.<br>modules:</p>
<ul>
<li>skimage.segmentation</li>
</ul>
<p>word cloud:</p>
<ul>
<li>thresholding: histogram based</li>
<li>otsu</li>
<li>randomwalker</li>
<li>superpixel: separating connected objects</li>
<li>watershed</li>
</ul>
<h3 id="Measures-on-images"><a href="#Measures-on-images" class="headerlink" title="Measures on images"></a>Measures on images</h3><p>After image segmentation, you have some regions, you may want to compute statistics and label each regions.<br>modules:<br>skimage.measure</p>
<p>word cloud:</p>
<ul>
<li>measure</li>
<li>label: very useful, give different labels to different connected components.</li>
<li>size</li>
<li>histogram</li>
<li>regionprops</li>
</ul>
<p><img src="http://oytnj8g2y.bkt.clouddn.com/skimage/skimage_label.png" alt="skimage.measure.label"></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2018/06/07/手工-Backpropagation-推导与-TensorFlow-automatic-differentiation/">
                手工 Backpropagation 推导与 TensorFlow automatic differentiation
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2018-06-07</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h3 id="主要对比梯度反向传播手工推导与TensorFLow-自动差分"><a href="#主要对比梯度反向传播手工推导与TensorFLow-自动差分" class="headerlink" title="主要对比梯度反向传播手工推导与TensorFLow 自动差分"></a>主要对比梯度反向传播手工推导与TensorFLow 自动差分</h3><p>关于梯度反向传播手工推导的学习可以参考斯坦福大学的 <a href="http://cs231n.stanford.edu/" target="_blank" rel="external">CS231n: Convolutional Neural Networks for Visual Recognition</a> 的 Lecture 4。<br>下面通过代码对这两者进行对比，代码的Jupyter NoteBook 可以在我的 <a href="https://github.com/RobertLexis/TensorFlow-automatic-differentiation" target="_blank" rel="external">GitHub 仓库</a>中找到。</p>
<h4 id="imports"><a href="#imports" class="headerlink" title="imports"></a>imports</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">import os</div><div class="line">os.environ[&apos;TF_CPP_MIN_LOG_LEVEL&apos;]=&apos;3&apos;</div><div class="line">import tensorflow as tf</div></pre></td></tr></table></figure>
<h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">with tf.variable_scope(&quot;params&quot;, reuse=tf.AUTO_REUSE):</div><div class="line">    w = tf.get_variable(&quot;w&quot;, initializer=tf.constant([2.0]))</div><div class="line">    b = tf.get_variable(&quot;b&quot;, initializer=tf.constant([0.0]))</div></pre></td></tr></table></figure>
<h4 id="定义占位符"><a href="#定义占位符" class="headerlink" title="定义占位符"></a>定义占位符</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x = tf.placeholder(tf.float32, shape=[None], name=&quot;x&quot;)</div><div class="line">y = tf.placeholder(tf.float32, shape=[None], name=&quot;y&quot;)</div></pre></td></tr></table></figure>
<h4 id="定义表达式"><a href="#定义表达式" class="headerlink" title="定义表达式"></a>定义表达式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">y_pred = w*x + b</div></pre></td></tr></table></figure>
<h4 id="定义代价函数"><a href="#定义代价函数" class="headerlink" title="定义代价函数"></a>定义代价函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">loss = tf.reduce_mean(tf.square(y_pred - y))</div></pre></td></tr></table></figure>
<h4 id="定义优化器"><a href="#定义优化器" class="headerlink" title="定义优化器"></a>定义优化器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">optimizer = tf.train.GradientDescentOptimizer(learning_rate=0.001)</div><div class="line">grads_and_vars = optimizer.compute_gradients(loss)</div><div class="line">train_op = optimizer.apply_gradients(grads_and_vars)</div></pre></td></tr></table></figure>
<h4 id="创建会话并初始化变量"><a href="#创建会话并初始化变量" class="headerlink" title="创建会话并初始化变量"></a>创建会话并初始化变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">init_op = tf.global_variables_initializer()</div><div class="line"></div><div class="line">sess = tf.InteractiveSession()</div><div class="line">sess.run(init_op)</div></pre></td></tr></table></figure>
<h4 id="根据函数-y-4x-3-给出训练数据"><a href="#根据函数-y-4x-3-给出训练数据" class="headerlink" title="根据函数 y = 4x + 3 给出训练数据"></a>根据函数 y = 4x + 3 给出训练数据</h4><h4 id="对于单个数据点输入，对比-TensorFlow-automatic-differentiation-与手工推导"><a href="#对于单个数据点输入，对比-TensorFlow-automatic-differentiation-与手工推导" class="headerlink" title="对于单个数据点输入，对比 TensorFlow automatic differentiation 与手工推导"></a>对于单个数据点输入，对比 TensorFlow automatic differentiation 与手工推导</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># y_ = 4 * 2 + 3</div><div class="line">x_ = [2]</div><div class="line">y_ = [11] # y_ = 4 * 2 + 3</div></pre></td></tr></table></figure>
<h6 id="手工推导-Backpropagation-过程"><a href="#手工推导-Backpropagation-过程" class="headerlink" title="手工推导 Backpropagation 过程"></a>手工推导 Backpropagation 过程</h6><p><img src="http://oytnj8g2y.bkt.clouddn.com/backwards/backward_1.png" alt="backward_1"><br></p>
        </div>
        <a href="/2018/06/07/手工-Backpropagation-推导与-TensorFlow-automatic-differentiation/" class="read-more">Read More</a>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="" href="/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="" href="/page/3/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This is Robert Lexis (FengCun Li). To see the world, things dangerous to come to, to see behind walls, to draw closer, to find each other and to feel. That is the purpose of LIFE.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2018/08/26/YOLO/">YOLO</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/08/26/非最大值抑制/">非最大值抑制</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/08/26/目标定位-vs-目标检测/">目标定位 vs 目标检测</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2018/08/13/消失的梯度/">消失的梯度</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/RobertLexis">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:robert_lexis@163.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Robert Lexis Loves Wenny
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>